(function(t){function e(e){for(var o,r,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,r=1;r<a.length;r++){var i=a[r];0!==n[i]&&(o=!1)}o&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},r={app:0},n={app:0},s=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"743d8d26"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={about:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"ac6a5284"}[t]+".css",n=l.p+o,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===o||u===n))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===o||u===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete r[t],p.parentNode.removeChild(p),a(s)},p.href=n;var v=document.getElementsByTagName("head")[0];v.appendChild(p)})).then((function(){r[t]=0})));var o=n[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise((function(e,a){o=n[t]=[e,a]}));e.push(o[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,a[1](d)}n[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1621:function(t,e,a){},"1c24":function(t,e,a){"use strict";a("1621")},"20f69":function(t,e,a){},"21bb":function(t,e,a){"use strict";a("2dad")},"2dad":function(t,e,a){},"3be6":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{centered:"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-1"}},[t._v(" Zbornik ")]),3!=t.user.userRole&&"edit"==t.action?a("v-tab",{attrs:{href:"#tab-2"}},[t._v(" Wywóz ")]):t._e(),1==t.user.userRole&&"edit"==t.action?a("v-tab",{attrs:{href:"#tab-3"}},[t._v(" Przenieś ")]):t._e()],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("form",{on:{submit:function(e){return e.preventDefault(),t.addEditTank(e)}}},[a("validation-provider",{attrs:{rules:"required",name:"Numer zbiornika"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{"error-messages":o,label:"Numer zbiornika",disabled:t.isDisabled(),required:""},model:{value:t.tankData.name,callback:function(e){t.$set(t.tankData,"name",e)},expression:"tankData.name"}})]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required",name:"Producent"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-select",{attrs:{items:t.tankManufacturerList,"item-text":"name","item-value":"id","error-messages":o,label:"Producent","data-vv-name":"manufacturer",disabled:t.isDisabled(),required:""},model:{value:t.tankData.manufacturerId,callback:function(e){t.$set(t.tankData,"manufacturerId",e)},expression:"tankData.manufacturerId"}})]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required",name:"Pojemność"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-select",{attrs:{"item-text":"name","item-value":"id",items:t.tankCapacityList,"error-messages":o,label:"Pojemność","data-vv-name":"capacity",disabled:t.isDisabled(),required:""},model:{value:t.tankData.capacityId,callback:function(e){t.$set(t.tankData,"capacityId",e)},expression:"tankData.capacityId"}})]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required",name:"Właściciel"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-select",{attrs:{"item-text":"name","item-value":"id",items:t.tankOwnerList,"error-messages":o,label:"Właściciel","data-vv-name":"owner",disabled:t.isDisabled(),required:""},model:{value:t.tankData.ownerId,callback:function(e){t.$set(t.tankData,"ownerId",e)},expression:"tankData.ownerId"}})]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required",name:"Zawór"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-combobox",{attrs:{"item-text":"name","item-value":"id",items:t.tankValveList,"error-messages":o,label:"Zawór","data-vv-name":"valve",disabled:t.isDisabled(),required:""},model:{value:t.tankData.valveId,callback:function(e){t.$set(t.tankData,"valveId",e)},expression:"tankData.valveId"}})]}}],null,!0)}),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-control"},[a("label",{attrs:{for:"productionYear"}},[t._v("Rok produkcji "),a("datepicker",{attrs:{disabled:t.isDisabled(),format:"yyyy",minimumView:"year",maximumView:"year"},model:{value:t.tankData.productionYear,callback:function(e){t.$set(t.tankData,"productionYear",e)},expression:"tankData.productionYear"}})],1)]),a("div",{staticClass:"form-control"},[a("label",{attrs:{for:"pin"}},[t._v("PIN "),a("v-radio-group",{model:{value:t.tankData.pin,callback:function(e){t.$set(t.tankData,"pin",e)},expression:"tankData.pin"}},[a("v-radio",{attrs:{label:"P",value:"P",disabled:t.isDisabled()}},[t._v("P")]),a("v-radio",{attrs:{label:"N",value:"N",disabled:t.isDisabled()}},[t._v("N")])],1)],1)]),1==t.user.userRole?a("div",{staticClass:"form-control backgroundColor-form"},[a("label",{attrs:{for:"backgroundColor"}},[t._v("Kolor podświetlenia "),a("v-radio-group",{attrs:{disabled:t.isDisabled()},model:{value:t.tankData.backgroundColor,callback:function(e){t.$set(t.tankData,"backgroundColor",e)},expression:"tankData.backgroundColor"}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-1"}},[a("div",{staticClass:"color-1",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{name:"color-1",value:1,"hide-details":""}})],1),a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-2"}},[a("div",{staticClass:"color-2",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:2,"hide-details":""}})],1),a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-3"}},[a("div",{staticClass:"color-3",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:3,"hide-details":""}})],1)]),a("v-col",{attrs:{cols:"3"}},[a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-4"}},[a("div",{staticClass:"color-4",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:4,"hide-details":""}})],1),a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-5"}},[a("div",{staticClass:"color-5",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:5,"hide-details":""}})],1),a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-0"}},[a("div",{staticClass:"color-0",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:0,"hide-details":""}})],1)]),a("v-col",{attrs:{cols:"3"}},[a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-7"}},[a("div",{staticClass:"color-7",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:7,"hide-details":""}})],1),a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-8"}},[a("div",{staticClass:"color-8",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:8,"hide-details":""}})],1),a("label",{staticClass:"backgroundColor-form-label",attrs:{for:"color-9"}},[a("div",{staticClass:"color-9",staticStyle:{width:"20px",height:"20px"}}),a("v-radio",{attrs:{value:9,"hide-details":""}})],1)])],1)],1)],1)]):t._e(),1==t.user.userRole?a("label",{attrs:{for:"invoice"}},[a("v-checkbox",{attrs:{"false-value":0,"true-value":1,label:"Zafakturowano","hide-details":"",disabled:t.isDisabled()},model:{value:t.tankData.invoice,callback:function(e){t.$set(t.tankData,"invoice",e)},expression:"tankData.invoice"}})],1):t._e()]),"history"==t.action?a("label",{attrs:{for:""}},[t._v("Uwagi")]):t._e(),a("v-textarea",{attrs:{solo:"",label:"Uwagi",disabled:t.isDisabled()},model:{value:t.tankData.comment,callback:function(e){t.$set(t.tankData,"comment",e)},expression:"tankData.comment"}}),"history"==t.action?a("label",{attrs:{for:""}},[t._v("Uwagi do wykonanej pracy")]):t._e(),a("v-textarea",{attrs:{solo:"",label:"Uwagi do wykonanej pracy",disabled:t.isDisabled()},model:{value:t.tankData.workComment,callback:function(e){t.$set(t.tankData,"workComment",e)},expression:"tankData.workComment"}}),"history"==t.action?a("label",{attrs:{for:""}},[t._v("Uwagi do transportu")]):t._e(),a("v-textarea",{attrs:{solo:"",label:"Uwagi do transportu",disabled:t.isDisabled()},model:{value:t.tankData.transportComment,callback:function(e){t.$set(t.tankData,"transportComment",e)},expression:"tankData.transportComment"}}),t.isDisabled()?t._e():a("v-btn",{staticClass:"mr-4",attrs:{type:"submit",disabled:o}},[t._v(" Zapisz ")])],1)]}}])})],1)],1)],1),3!=t.user.userRole&&"edit"==t.action?a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("validation-observer",{ref:"observer2",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("form",{on:{submit:function(e){return e.preventDefault(),t.tankExport(e)}}},[a("validation-provider",{attrs:{rules:"required",name:"Miasto"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{"error-messages":o,label:"Miasto",required:""},model:{value:t.exportData.city,callback:function(e){t.$set(t.exportData,"city",e)},expression:"exportData.city"}})]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required",name:"Ulica"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{"error-messages":o,label:"Ulica",required:""},model:{value:t.exportData.street,callback:function(e){t.$set(t.exportData,"street",e)},expression:"exportData.street"}})]}}],null,!0)}),3!=t.user.userRole&&"edit"==t.action?a("v-btn",{staticClass:"mr-4",attrs:{type:"submit",disabled:o}},[t._v(" Wywóz ")]):t._e()],1)]}}],null,!1,1016044048)})],1)],1)],1):t._e(),3!=t.user.userRole&&"edit"==t.action?a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("validation-observer",{ref:"observer3",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("form",{on:{submit:function(e){return e.preventDefault(),t.moveTank(e)}}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[0].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Parcela 1",label:"Parcela 1","data-vv-name":"parcel1",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,1)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[1].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Parcela 2",label:"Parcela 2","data-vv-name":"parcel2",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,2)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[2].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Parcela 3",label:"Parcela 3","data-vv-name":"parcel3",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,3)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[3].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Parcela 4",label:"Parcela 4","data-vv-name":"parcel4",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,4)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[4].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Łąka",label:"Łąka","data-vv-name":"parcel5",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,5)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[5].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Hala",label:"Hala","data-vv-name":"parcel6",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,6)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.parcel_free_slots[6].slots,"item-text":"id","item-value":"id","error-messages":t.errors,name:"Złom",label:"Złom","data-vv-name":"parcel7",disabled:t.isDisabled(),required:""},on:{change:function(e){return t.moveParcelSelect(e,7)}},model:{value:t.moveTankSlot,callback:function(e){t.moveTankSlot=e},expression:"moveTankSlot"}})],1)],1),3!=t.user.userRole&&"edit"==t.action?a("v-btn",{staticClass:"mr-4",attrs:{type:"submit",disabled:o}},[t._v(" Przenieś ")]):t._e()],1)]}}],null,!1,1134984203)})],1)],1)],1):t._e()],1)],1)},r=[],n=a("5530"),s=a("2f62"),i=a("79dc"),l=a("fb74"),c=a("77f7");Object(l["c"])("required",Object(n["a"])(Object(n["a"])({},i["b"]),{},{message:"Pole {_field_} nie może być puste"})),Object(l["c"])("min",Object(n["a"])(Object(n["a"])({},i["a"]),{},{message:"Minimalna długość znaków to {length}"}));var u={name:"TankForm",props:["formData","action","parcelId","slotId"],components:{ValidationProvider:l["b"],ValidationObserver:l["a"],Datepicker:c["a"]},data:function(){return{tab:null,tankData:{name:"",manufacturerId:"",capacityId:"",ownerId:"",valveId:"",productionYear:new Date,pin:"P",comment:"",workComment:"",backgroundColor:"0",invoice:"0"},exportData:{city:"",street:""},moveTankParcel:void 0,moveTankSlot:void 0,freeSlots:""}},created:function(){this.$store.dispatch("tank/getManufacturerList"),this.$store.dispatch("tank/getCapacityList"),this.$store.dispatch("tank/getOwnerList"),this.$store.dispatch("tank/getValveList")},mounted:function(){"edit"!==this.action&&"history"!==this.action||(this.tankData=this.formData,this.tankData.productionYear=new Date(this.tankData.productionYear))},methods:{addEditTank:function(){this.tankData.parcelId=this.parcelId,this.tankData.slotId=this.slotId,this.tankData.productionYear=this.tankData.productionYear.getFullYear(),this.tankData.manufacturerId.id&&(this.tankData.manufacturerId=this.tankData.manufacturerId.id),this.tankData.capacityId.id&&(this.tankData.capacityId=this.tankData.capacityId.id),this.tankData.ownerId.id&&(this.tankData.ownerId=this.tankData.ownerId.id),this.tankData.valveId.id&&(this.tankData.valveId=this.tankData.valveId.id),2==this.user.userRole&&(this.tankData.backgroundColor="6"),"edit"===this.action?(this.$store.dispatch("common/editTank",this.tankData),this.$emit("addTank")):"add"===this.action&&(this.$store.dispatch("common/addTank",this.tankData),this.$emit("addTank"))},tankExport:function(){this.tankData.parcelId=this.parcelId,this.tankData.slotId=this.slotId,this.$store.dispatch("common/exportTank",{parcelId:this.parcelId,slotId:this.slotId,isExported:1,city:this.exportData.city,street:this.exportData.street,exportDate:new Date,id:this.tankData.id}),this.$emit("addTank")},moveParcelSelect:function(t,e){this.moveTankParcel=e},moveTank:function(){this.$store.dispatch("common/moveTank",{currentSlot:{parcelId:this.parcelId,slotId:this.slotId},moveTo:{parcelId:this.moveTankParcel,slotId:this.moveTankSlot}}),this.$emit("addTank")},isDisabled:function(){return"add"==this.action?3==this.user.userRole:"edit"==this.action?1!=this.user.userRole:"history"==this.action||void 0}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(s["b"])("common",["setFreeParcelSlots"])),Object(s["c"])("common",["parcel_list","parcel_free_slots"])),Object(s["c"])("tank",["tankManufacturerList","tankCapacityList","tankOwnerList","tankValveList"])),Object(s["c"])("authentication",["user","token"])),Object(s["c"])(["api_url"])),{},{invoice_checkbox:{get:function(){return"1"===this.tankData.invoice},set:function(t){this.tankData.invoice=t?1:0}}})},d=u,p=(a("1c24"),a("2877")),v=a("6544"),f=a.n(v),m=a("8336"),h=a("b0af"),b=a("99d9"),k=a("ac7c"),g=a("62ad"),_=a("2b5d"),S=a("67b6"),T=a("43a6"),y=a("0fd9"),x=a("b974"),w=a("71a3"),C=a("c671"),D=a("fe57"),I=a("aac8"),O=a("9a96"),E=a("8654"),j=a("a844"),A=Object(p["a"])(d,o,r,!1,null,null,null);e["a"]=A.exports;f()(A,{VBtn:m["a"],VCard:h["a"],VCardText:b["c"],VCheckbox:k["a"],VCol:g["a"],VCombobox:_["a"],VRadio:S["a"],VRadioGroup:T["a"],VRow:y["a"],VSelect:x["a"],VTab:w["a"],VTabItem:C["a"],VTabs:D["a"],VTabsItems:I["a"],VTabsSlider:O["a"],VTextField:E["a"],VTextarea:j["a"]})},4267:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t.loggedIn?a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-btn",{attrs:{text:"",type:"button",title:"Wyloguj",value:"Logout"},on:{click:t.logout}},[a("v-icon",[t._v("mdi-logout")])],1),a("v-spacer"),a("v-toolbar-items",{},[t._l(t.items,(function(e){return a("v-btn",{key:e.title,attrs:{link:"",to:e.path,text:""}},[t._v(" "+t._s(e.title)+" ")])})),a("v-divider",{attrs:{vertical:""}}),a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),o),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1510716892)},[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-account")])],1),a("v-list-item-title",{staticClass:"title"},[t._v(" "+t._s(t.user.username)+" ")])],1),1==t.user.userRole?a("v-divider"):t._e(),1==t.user.userRole?a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{link:"",to:"/sign-up",text:""}},[t._v(" Utwórz użytkownika ")])],1)],1):t._e(),1==t.user.userRole?a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{link:"",to:"/edit-user",text:""}},[t._v(" Edycja użytkowników ")])],1)],1):t._e(),1==t.user.userRole?a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{link:"",text:""},on:{click:t.openDialog}},[t._v(" Raport z placu ")])],1)],1):t._e()],1)],1)],2)],1):t._e(),a("v-main",[a("router-view")],1),t.raportDialog?a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.raportDialog,callback:function(e){t.raportDialog=e},expression:"raportDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.raportDialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v("Zbiorniki na placu")]),a("v-spacer")],1),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Szukaj","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.raportDialog?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.activeTanks,search:t.search,dense:"","mobile-breakpoint":0,"items-per-page":10}}):t._e()],1)],1)],1):t._e(),a("notifications",{attrs:{group:"foo",position:"bottom right"}})],1)},n=[],s=a("5530"),i=a("2f62"),l=a("bc3a"),c=a.n(l),u={name:"App",components:{},data:function(){return{raportDialog:!1,activeTanks:[],drawer:null,username:"",search:"",loggedIn:!1,headers:[{text:"Nazwa",align:"start",sortable:!1,value:"name"},{text:"Parcela",value:"parcel"},{text:"Miejsce",value:"slotId"},{text:"Producent",value:"manufacturerName"},{text:"Pojemność",value:"capacityName"},{text:"Właściciel",value:"ownerName"},{text:"Zawór",value:"valveName"},{text:"PIN",value:"pin"},{text:"Rok produkcji",value:"productionYear"},{text:"Zafakturowano",value:"invoice"},{text:"Uwagi",value:"comment"},{text:"Uwagi do pracy",value:"workComment"}],items:[{title:"Zbiorniki",path:"/",icon:"mdi-view-dashboard"},{title:"W trasie",path:"/on-the-road",icon:"mdi-road"},{title:"Historia",path:"/history",icon:"mdi-history"}]}},methods:{logout:function(){this.$store.dispatch("authentication/logout"),this.loggedIn=!1,"/login"!==this.$router.path&&this.$router.push("/login")},openDialog:function(){var t=this;c.a.get("".concat(this.api_url,"tank/get-tanks-list"),{headers:{Authorization:this.token}}).then((function(e){t.activeTanks=e.data,t.raportDialog=!0}))}},beforeCreate:function(){this.$store.dispatch("common/loadParcelList")},created:function(){},beforeMount:function(){},mounted:function(){this.loggedIn=this.$store.getters["authentication/isLoggedIn"],this.username=this.$store.getters["authentication/getUser"].username},beforeUpdate:function(){this.loggedIn=this.$store.getters["authentication/isLoggedIn"],this.username=this.$store.getters["authentication/getUser"].username},updated:function(){},activated:function(){},deactivated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])("authentication",["user","token"])),Object(i["c"])(["api_url"]))},d=u,p=(a("034f"),a("2877")),v=a("6544"),f=a.n(v),m=a("7496"),h=a("8336"),b=a("b0af"),k=a("99d9"),g=a("8fea"),_=a("169a"),S=a("ce7e"),T=a("132d"),y=a("8860"),x=a("da13"),w=a("8270"),C=a("5d23"),D=a("f6c4"),I=a("e449"),O=a("2fa4"),E=a("8654"),j=a("71d9"),A=a("2a7f"),V=Object(p["a"])(d,r,n,!1,null,null,null),L=V.exports;f()(V,{VApp:m["a"],VBtn:h["a"],VCard:b["a"],VCardText:k["c"],VDataTable:g["a"],VDialog:_["a"],VDivider:S["a"],VIcon:T["a"],VList:y["a"],VListItem:x["a"],VListItemAvatar:w["a"],VListItemTitle:C["b"],VMain:D["a"],VMenu:I["a"],VSpacer:O["a"],VTextField:E["a"],VToolbar:j["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var P=a("8c4f"),R=(a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wrapper"},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("form",{on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[a("validation-provider",{attrs:{name:"Login",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{"error-messages":o,label:"Login",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{ref:"password",attrs:{type:"password","min-length":"6","error-messages":o,label:"Hasło",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"confirm",rules:"required|password:@password"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{type:"password","min-length":"6",required:"","error-messages":o,label:"Powtórz hasło"},model:{value:t.password_repeat,callback:function(e){t.password_repeat=e},expression:"password_repeat"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"group",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-select",{attrs:{items:t.user_groups_list,"item-text":"name","item-value":"id","error-messages":o,name:"Grupa",label:"Grupa","data-vv-name":"group",required:""},model:{value:t.user_group,callback:function(e){t.user_group=e},expression:"user_group"}})]}}],null,!0)}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:o,type:"submit"}},[t._v(" Utwórz ")])],1)]}}])})],1)}),N=[],z=(a("96cf"),a("1da1")),$=a("79dc"),q=a("fb74");Object(q["d"])("eager"),Object(q["c"])("password",{params:["target"],validate:function(t,e){var a=e.target;return t===a},message:"Hasła muszą być takie same."}),Object(q["c"])("required",Object(s["a"])(Object(s["a"])({},$["b"]),{},{message:"Pole {_field_} nie może być puste"})),Object(q["c"])("min",Object(s["a"])(Object(s["a"])({},$["a"]),{},{message:"Minimalna długość znaków to {length}"}));var U={components:{ValidationProvider:q["b"],ValidationObserver:q["a"]},data:function(){return{username:"",password:"",password_repeat:"",user_group:"",msg:""}},created:function(){this.$store.dispatch("authentication/loadUserGroupsList")},methods:{signUp:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={username:t.username,password:t.password,password_repeat:t.password_repeat,userRole:t.user_group},e.next=4,t.$store.dispatch("authentication/signUp",a);case 4:o=e.sent,t.$store.dispatch("authentication/loadUsersList"),t.msg=o.msg,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.msg=e.t0.response.data.msg;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},computed:Object(s["a"])({},Object(i["c"])("authentication",["user_groups_list"]))},F=U,K=(a("8ba8"),a("b974")),M=Object(p["a"])(F,R,N,!1,null,"1bb148d7",null),B=M.exports;f()(M,{VBtn:h["a"],VSelect:K["a"],VTextField:E["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wrapper"},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("form",{on:{submit:function(e){return e.preventDefault(),t.edit(e)}}},[a("validation-provider",{attrs:{name:"username",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-select",{attrs:{items:t.users_list,"item-text":"username","item-value":"id","error-messages":o,name:"Użytkownik",label:"Użytkownik","data-vv-name":"username",required:""},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{ref:"password",attrs:{type:"password","min-length":"6","error-messages":o,label:"Nowe hasło",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"confirm",rules:"required|password:@password"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{type:"password","min-length":"6",required:"","error-messages":o,label:"Powtórz hasło"},model:{value:t.password_repeat,callback:function(e){t.password_repeat=e},expression:"password_repeat"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"group",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-select",{attrs:{items:t.user_groups_list,"item-text":"name","item-value":"id","error-messages":o,name:"Grupa",label:"Grupa","data-vv-name":"group",required:""},model:{value:t.user_group,callback:function(e){t.user_group=e},expression:"user_group"}})]}}],null,!0)}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:o,type:"submit"}},[t._v(" Zapisz ")])],1)]}}])})],1)},H=[];Object(q["d"])("eager"),Object(q["c"])("password",{params:["target"],validate:function(t,e){var a=e.target;return t===a},message:"Hasła muszą być takie same."}),Object(q["c"])("required",Object(s["a"])(Object(s["a"])({},$["b"]),{},{message:"Pole {_field_} nie może być puste"})),Object(q["c"])("min",Object(s["a"])(Object(s["a"])({},$["a"]),{},{message:"Minimalna długość znaków to {length}"}));var Y={components:{ValidationProvider:q["b"],ValidationObserver:q["a"]},data:function(){return{user:"",password:"",password_repeat:"",user_group:"",msg:""}},created:function(){this.$store.dispatch("authentication/loadUserGroupsList"),this.$store.dispatch("authentication/loadUsersList")},methods:{edit:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={userId:t.user,password:t.password,password_repeat:t.password_repeat,userRole:t.user_group},e.next=4,t.$store.dispatch("authentication/editUser",a);case 4:o=e.sent,t.msg=o.msg,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.msg=e.t0.response.data.msg;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},computed:Object(s["a"])({},Object(i["c"])("authentication",["user_groups_list","users_list"]))},G=Y,W=(a("b4cc"),Object(p["a"])(G,Z,H,!1,null,"74040591",null)),J=W.exports;f()(W,{VBtn:h["a"],VSelect:K["a"],VTextField:E["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wrapper"},[a("validation-observer",{ref:"observer"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("validation-provider",{attrs:{name:"Login",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{attrs:{"error-messages":o,label:"Login",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})]}}])}),a("validation-provider",{attrs:{name:"Hasło",rules:"required|min:6"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("v-text-field",{ref:"password",attrs:{type:"password","error-messages":o,label:"Hasło",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])}),a("v-btn",{staticClass:"mr-4",attrs:{type:"submit"}},[t._v(" Zaloguj ")])],1)]),a("loading",{attrs:{show:t.loader.show}})],1)},Q=[],tt=a("15b3"),et=a.n(tt);Object(q["d"])("eager"),Object(q["c"])("required",Object(s["a"])(Object(s["a"])({},$["b"]),{},{message:"Pole {_field_} nie może być puste"})),Object(q["c"])("min",Object(s["a"])(Object(s["a"])({},$["a"]),{},{message:"Minimalna długość znaków to {length}"}));var at={components:{ValidationProvider:q["b"],ValidationObserver:q["a"],loading:et.a},data:function(){return{username:"",password:"",msg:"",loader:{show:!1}}},created:function(){this.$store.getters["authentication/isLoggedIn"]&&this.$router.push("/")},methods:{login:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loader.show=!0,t.$refs.observer.validate(),e.prev=2,a={username:t.username,password:t.password},e.next=6,t.$store.dispatch("authentication/login",a).then((function(){t.loader.show=!1})).catch((function(e){t.loader.show=!1,console.log(e)}));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),t.loader.show=!1,t.msg=e.t0.response.data.msg;case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}},ot=at,rt=(a("77b9"),Object(p["a"])(ot,X,Q,!1,null,"cc26ff84",null)),nt=rt.exports;f()(rt,{VBtn:h["a"],VTextField:E["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{attrs:{md3:""}},[a("v-chip",{staticClass:"plotTanks"},[t._v("Zbiorniki na placu: "+t._s(t.plotTanks("all"))+" / "+t._s(t.plotSlots()))])],1),a("v-flex",{staticStyle:{"text-align":"right"},attrs:{md6:"",shrink:""}},[a("v-chip",{staticClass:"plotTanks color-0"},[t._v(t._s(t.plotTanks(0)))]),a("v-chip",{staticClass:"plotTanks color-1"},[t._v(t._s(t.plotTanks(1)))]),a("v-chip",{staticClass:"plotTanks color-2"},[t._v(t._s(t.plotTanks(2)))]),a("v-chip",{staticClass:"plotTanks color-3"},[t._v(t._s(t.plotTanks(3)))]),a("v-chip",{staticClass:"plotTanks color-4"},[t._v(t._s(t.plotTanks(4)))]),a("v-chip",{staticClass:"plotTanks color-5"},[t._v(t._s(t.plotTanks(5)))]),a("v-chip",{staticClass:"plotTanks color-6"},[t._v(t._s(t.plotTanks(6)))]),a("v-chip",{staticClass:"plotTanks color-7"},[t._v(t._s(t.plotTanks(7)))]),a("v-chip",{staticClass:"plotTanks color-8"},[t._v(t._s(t.plotTanks(8)))]),a("v-chip",{staticClass:"plotTanks color-9"},[t._v(t._s(t.plotTanks(9)))])],1)],1)],1),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.findNumber(e)}}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{clearable:"",label:"Wyszukaj zbiornik",type:"text"},on:{input:function(e){return t.clearFoundTanks(t.message)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-fade-transition",{attrs:{"leave-absolute":""}},[t.loading?a("v-progress-circular",{attrs:{size:"24",color:"info",indeterminate:""}}):t._e()],1)]},proxy:!0},{key:"append-outer",fn:function(){return[a("v-menu",{staticStyle:{top:"-25px"},attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticStyle:{top:"-10px"},on:{click:function(e){return t.findNumber(t.message)}}},"v-btn",r,!1),o),[a("v-icon",{attrs:{left:""}},[t._v(" mdi-magnify ")]),t._v(" Szukaj ")],1)]}}])})]},proxy:!0}]),model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),t._l(t.parcel_list,(function(e){return a("div",{key:e.id,staticClass:"parcel",staticStyle:{margin:"0px"},attrs:{id:e.id}},[a("div",{staticClass:"title"},[t._v(" "+t._s(e.name)+" "),a("v-chip",{staticClass:"parcelSlots"},[t._v("Zbiorniki: "+t._s(e.slots.length)+" / "+t._s(e.size))]),a("div",{staticClass:"parcelTanksChips"},[a("v-chip",{staticClass:"parcelTanks color-0"},[t._v(t._s(t.parcelTanks(e.slots,0)))]),a("v-chip",{staticClass:"parcelTanks color-1"},[t._v(t._s(t.parcelTanks(e.slots,1)))]),a("v-chip",{staticClass:"parcelTanks color-2"},[t._v(t._s(t.parcelTanks(e.slots,2)))]),a("v-chip",{staticClass:"parcelTanks color-3"},[t._v(t._s(t.parcelTanks(e.slots,3)))]),a("v-chip",{staticClass:"parcelTanks color-4"},[t._v(t._s(t.parcelTanks(e.slots,4)))]),a("v-chip",{staticClass:"parcelTanks color-5"},[t._v(t._s(t.parcelTanks(e.slots,5)))]),a("v-chip",{staticClass:"parcelTanks color-6"},[t._v(t._s(t.parcelTanks(e.slots,6)))]),a("v-chip",{staticClass:"parcelTanks color-7"},[t._v(t._s(t.parcelTanks(e.slots,7)))]),a("v-chip",{staticClass:"parcelTanks color-8"},[t._v(t._s(t.parcelTanks(e.slots,8)))]),a("v-chip",{staticClass:"parcelTanks color-9"},[t._v(t._s(t.parcelTanks(e.slots,9)))])],1)],1),a("div",{staticClass:"slots"},t._l(e.size,(function(o){return a("div",{key:o},[a("span",{staticClass:"slotId"},[t._v(" "+t._s(t.parcelSlotId(e.slots,o))+" ")]),a("v-btn",{class:[t.parcelSlotId(e.slots,o)==o?"color-"+t.parcelSlotBg(e.slots,o):"","ma-2","slot"],attrs:{color:"default"},on:{click:function(a){return t.openDialog(a,e.id,o)}}},[t._v(" "+t._s(t.parcelSlot(e.slots,o))+" ")])],1)})),0)])})),t.dialog?a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1,t.action="add"}}},[a("v-icon",{on:{click:function(e){return t.clearFoundTanks("")}}},[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v("Zbiornik")]),a("v-spacer"),a("v-chip",[t._v(" Parcela: "+t._s(t.activeParcel)+", miejsce: "+t._s(t.activeSlot)+" ")])],1),a("v-card-text",[a("TankForm",{attrs:{formData:t.formData,action:t.action,parcelId:t.activeParcel,slotId:t.activeSlot},on:{addTank:function(e){return t.addHandle()}}})],1)],1)],1):t._e()],2)},it=[],lt=(a("99af"),a("4de4"),a("caad"),a("b0c0"),a("2532"),a("b85c")),ct=a("3be6"),ut={name:"Home",components:{TankForm:ct["a"]},data:function(){return{message:"",loading:!1,secretContent:"",username:"",parcelOne:"",formData:"",dialog:!1,activeParcel:"",activeSlot:"",action:"add"}},beforeCreate:function(){this.$store.dispatch("common/loadParcelList")},created:function(){var t=this;this.$store.getters["authentication/isLoggedIn"]||this.$router.push("/login"),this.$store.dispatch("authentication/loadUserGroupsList"),this.$store.dispatch("authentication/loadUsersList"),this.$store.dispatch("authentication/getSecretContent").then((function(){t.secretContent=t.$store.getters["authentication/getSecretContent"]})),this.username=this.$store.getters["authentication/getUser"].username},mounted:function(){},methods:{findNumber:function(t){this.loading=!0;var e,a=document.getElementsByClassName("slot"),o=a.length,r=Object(lt["a"])(a);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.innerText.includes(t)&&(n.style.color="yellow",n.style.border="4px solid yellow",n.style.fontWeight="bold"),--o||(this.loading=!1)}}catch(s){r.e(s)}finally{r.f()}},clearFoundTanks:function(){var t,e=document.getElementsByClassName("slot"),a=e.length,o=Object(lt["a"])(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.hasAttribute("style")&&r.removeAttribute("style"),--a||(this.loading=!1)}}catch(n){o.e(n)}finally{o.f()}},addHandle:function(){this.dialog=!1},parcelSlot:function(t,e){var a=t.filter((function(t){if(t.slotId==e)return t.name}));return a.length?"".concat(a[0].name).concat(a[0].pin):""},parcelSlotId:function(t,e){var a=t.filter((function(t){if(t.slotId==e)return t.slotId}));return a.length?a[0].slotId:e},parcelSlotBg:function(t,e){var a=t.filter((function(t){if(t.slotId==e)return t.backgroundColor}));return a.length?a[0].backgroundColor:""},openDialog:function(t,e,a){var o=this;this.activeParcel=e,this.activeSlot=a,""!=t.target.outerText?(this.action="edit",this.parcel_list[e-1].slots.filter((function(t){t.slotId==a&&c.a.get("".concat(o.api_url,"tank/get/").concat(t.id),{headers:{Authorization:o.token}}).then((function(t){o.formData=t.data[0],o.dialog=!0}))}))):1!=this.user.userRole&&2!=this.user.userRole||(this.dialog=!0)},plotTanks:function(t){var e,a=0,o=0,r=t,n=Object(lt["a"])(this.parcel_list);try{for(n.s();!(e=n.n()).done;){var s=e.value;if(a+=s.slots.length,"all"!=t){var i,l=Object(lt["a"])(s.slots);try{for(l.s();!(i=l.n()).done;){var c=i.value;c.backgroundColor==r&&(o+=1)}}catch(u){l.e(u)}finally{l.f()}}}}catch(u){n.e(u)}finally{n.f()}return"all"!=t?o:a},plotSlots:function(){var t,e=0,a=Object(lt["a"])(this.parcel_list);try{for(a.s();!(t=a.n()).done;){var o=t.value;e+=o.size}}catch(r){a.e(r)}finally{a.f()}return e},parcelTanks:function(t,e){var a,o=0,r=e,n=Object(lt["a"])(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;s.backgroundColor==r&&(o+=1)}}catch(i){n.e(i)}finally{n.f()}return o}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["c"])("common",["parcel_list"])),Object(i["c"])("authentication",["user","token"])),Object(i["c"])(["api_url"]))},dt=ut,pt=(a("21bb"),a("cc20")),vt=a("62ad"),ft=a("a523"),mt=a("0789"),ht=a("0e8f"),bt=a("4bd4"),kt=a("a722"),gt=a("490a"),_t=Object(p["a"])(dt,st,it,!1,null,null,null),St=_t.exports;f()(_t,{VBtn:h["a"],VCard:b["a"],VCardText:k["c"],VChip:pt["a"],VCol:vt["a"],VContainer:ft["a"],VDialog:_["a"],VFadeTransition:mt["c"],VFlex:ht["a"],VForm:bt["a"],VIcon:T["a"],VLayout:kt["a"],VMenu:I["a"],VProgressCircular:gt["a"],VSpacer:O["a"],VTextField:E["a"],VToolbar:j["a"],VToolbarTitle:A["b"]});var Tt=[{path:"/sign-up",name:"sign-up",component:B},{path:"/edit-user",name:"edit-user",component:J},{path:"/login",name:"login",component:nt},{path:"/",name:"Home",component:St},{path:"/on-the-road",name:"OnTheRoad",component:function(){return a.e("about").then(a.bind(null,"f436"))}},{path:"/history",name:"History",component:function(){return a.e("about").then(a.bind(null,"e4bb"))}}],yt=Tt;o["a"].use(P["a"]);var xt=new P["a"]({routes:yt}),wt=xt,Ct=a("a7fe"),Dt=a.n(Ct),It=function(t,e){c.a.get("".concat(t.rootState.api_url,"parcel/get-parcel-tanks/").concat(e.id),{headers:{Authorization:t.rootState.authentication.token}}).then((function(a){t.commit("SAVE_PARCEL_TANKS_LIST",{data:a.data,id:e.id-1})})).catch((function(){}))},Ot=function(t){c.a.get("".concat(t.rootState.api_url,"parcel/get-parcel-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SAVE_PARCEL_LIST",e.data),t.commit("SAVE_FREE_PARCEL_SLOTS",e.data)})).catch((function(){}))},Et=function(t){c.a.get("".concat(t.rootState.api_url,"tank/get-tanks-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SAVE_TANKS_LIST",e.data)})).catch((function(){}))},jt=function(t){c.a.get("".concat(t.rootState.api_url,"tank/get-exported-tanks"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SAVE_EXPORTED_TANKS_LIST",e.data)})).catch((function(){}))},At=function(t,e){c.a.post("".concat(t.rootState.api_url,"tank/get-delivered-tanks"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SAVE_DELIVERED_TANKS_LIST",e.data)})).catch((function(){}))},Vt=function(t,e){c.a.post("".concat(t.rootState.api_url,"tank/add"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(a){var r={slotId:e.slotId,name:e.name,id:a.data.insertId,backgroundColor:a.data.backgroundColor};t.commit("ADD_TANK_TO_PARCEL",{data:r,id:e.parcelId-1}),o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Zbiornik został dodany."})})).catch((function(){o["a"].notify({group:"foo",type:"error",title:"Błąd.",text:"Nie można dodać zbiornika."})}))},Lt=function(t,e){c.a.post("".concat(t.rootState.api_url,"tank/edit"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(){t.commit("EDIT_TANK_IN_PARCEL",{data:e,id:e.parcelId-1}),o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Zaktualizowano."})})).catch((function(){o["a"].notify({group:"foo",type:"error",title:"Błąd.",text:"Operacja nieudana"})}))},Pt=function(t,e){c.a.post("".concat(t.rootState.api_url,"tank/export"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(){t.commit("EXPORT_TANK_FROM_PARCEL",{data:e,id:e.parcelId-1}),o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Zbiornik jest w trasie."})})).catch((function(){}))},Rt=function(t,e){c.a.post("".concat(t.rootState.api_url,"tank/deliver"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(){o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Dostarczono."})})).catch((function(){o["a"].notify({group:"foo",type:"error",title:"Błąd.",text:"Operacja nieudana."})}))},Nt=function(t,e){c.a.post("".concat(t.rootState.api_url,"tank/move"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(){o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Przeniesiono."})})).catch((function(){o["a"].notify({group:"foo",type:"error",title:"Błąd.",text:"Operacja nieudana."})}))},zt={loadParcelList:Ot,loadParcelTanksList:It,loadActiveTanksList:Et,loadExportedTanksList:jt,loadDeliveredTanksList:At,addTank:Vt,editTank:Lt,exportTank:Pt,deliverTank:Rt,moveTank:Nt},$t=function(t){return t.parcel_list},qt=function(t){return function(){return t.parcel_free_slots}},Ut={getParcelList:$t,getFreeParcelSlots:qt},Ft=(a("7db0"),a("a434"),function(t,e){o["a"].set(t,"parcel_list",e)}),Kt=function(t,e){for(var a=function(t,e){return e.find((function(e){return e.slotId===t}))},o=JSON.parse(JSON.stringify(e)),r=0;r<e.length;r++){o[r].slots=[];for(var n=1;n<=e[r].size;n++)void 0==a(n,e[r].slots)&&o[r].slots.push({id:n})}t.parcel_free_slots=o},Mt=function(t,e){var a=t.parcel_list;a[e.id].slots=e.data,o["a"].set(t,"parcel_list",a)},Bt=function(t,e){var a=t.parcel_list;a[e.id].slots.push(e.data),o["a"].set(t,"parcel_list",a)},Zt=function(t,e){var a=t.parcel_list;a[e.id].slots.filter((function(t){t.slotId==e.data.slotId&&(t=e.data)})),o["a"].set(t,"parcel_list",a)},Ht=function(t,e){t.tanks_list=e},Yt=function(t,e){t.exported_tanks_list=e},Gt=function(t,e){for(var a=0;a<e.length;a++){var o=new Date(e[a].deliverDate);e[a].deliverDate=o.toLocaleString(),e[a].sortableDeliverDate=o.toISOString()}t.delivered_tanks_list=e},Wt=function(t,e){for(var a=0;a<t.parcel_list[e.id].slots.length;a++)t.parcel_list[e.id].slots[a].slotId==e.data.slotId&&t.parcel_list[e.id].slots.splice(a,1)},Jt={SAVE_PARCEL_LIST:Ft,SAVE_FREE_PARCEL_SLOTS:Kt,SAVE_PARCEL_TANKS_LIST:Mt,SAVE_TANKS_LIST:Ht,SAVE_EXPORTED_TANKS_LIST:Yt,SAVE_DELIVERED_TANKS_LIST:Gt,ADD_TANK_TO_PARCEL:Bt,EDIT_TANK_IN_PARCEL:Zt,EXPORT_TANK_FROM_PARCEL:Wt};o["a"].use(i["a"]),o["a"].use(Dt.a,c.a);var Xt=function(){return{parcel_list:[],parcel_free_slots:[],parcel_tanks_list:[],exported_tanks_list:[],delivered_tanks_list:[]}},Qt={namespaced:!0,state:Xt,getters:Ut,actions:zt,mutations:Jt},te=function(t,e){c.a.post("".concat(t.rootState.api_url,"sign-up"),e,{headers:{}}).then((function(){o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Użytkownik został zarejestrowany."})})).catch((function(t){o["a"].notify({group:"foo",type:"error",title:"Błąd",text:t.response.data.msg})}))},ee=function(t,e){c.a.post("".concat(t.rootState.api_url,"login"),e,{headers:{}}).then((function(e){t.commit("SET_TOKEN",e.data.token),t.commit("SET_USER",e.data.user),wt.push("/"),c.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.data.token)})).catch((function(t){o["a"].notify({group:"foo",type:"error",title:"Błąd",text:t.response.data.msg})}))},ae=function(t,e){c.a.post("".concat(t.rootState.api_url,"edit-user"),e,{headers:{Authorization:t.rootState.authentication.token}}).then((function(){o["a"].notify({group:"foo",type:"success",title:"Sukces!",text:"Dane użytkownika zostały zmienione."})})).catch((function(t){o["a"].notify({group:"foo",type:"error",title:"Błąd",text:t.response.data.msg})}))},oe=function(t){c.a.get("".concat(t.rootState.api_url,"secret-route"),{headers:{Authorization:t.state.token}}).then((function(e){t.commit("SET_SECRET_CONTENT",e.data)})).catch((function(){}))},re=function(t){var e=t.commit;e("RESET","")},ne=function(t){c.a.get("".concat(t.rootState.api_url,"get-user-groups-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SAVE_USER_GROUPS_LIST",e.data)})).catch((function(){}))},se=function(t){c.a.get("".concat(t.rootState.api_url,"get-users-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SAVE_USERS_LIST",e.data)})).catch((function(){}))},ie={signUp:te,login:ee,editUser:ae,getSecretContent:oe,logout:re,loadUserGroupsList:ne,loadUsersList:se},le=function(t){return t.token},ce=function(t){return t.user},ue=function(t){return t.secretContent},de={isLoggedIn:le,getUser:ce,getSecretContent:ue},pe=function(t,e){t.token=e},ve=function(t,e){t.user=e},fe=function(t,e){t.secretContent=e},me=function(t,e){t.user_groups_list=e},he=function(t,e){t.users_list=e},be=function(t){t.secretContent="",t.user={},t.token=""},ke={SET_TOKEN:pe,SET_USER:ve,SET_SECRET_CONTENT:fe,SAVE_USER_GROUPS_LIST:me,SAVE_USERS_LIST:he,RESET:be};o["a"].use(i["a"]),o["a"].use(Dt.a,c.a);var ge=function(){return{token:"",user:{},secretContent:"",user_groups_list:"",users_list:""}},_e=ge(),Se={namespaced:!0,getDefaultState:ge,state:_e,getters:de,actions:ie,mutations:ke},Te=function(t,e){c.a.get("".concat(t.rootState.api_url,"tank/get/").concat(e.id),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SET_ACTIVE_TANK",e.data[0])})).catch((function(){}))},ye=function(t){c.a.get("".concat(t.rootState.api_url,"tank/get-manufacturer-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SET_TANK_MANUFACTURER_LIST",e.data)})).catch((function(){}))},xe=function(t){c.a.get("".concat(t.rootState.api_url,"tank/get-capacity-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SET_TANK_CAPACITY_LIST",e.data)})).catch((function(){}))},we=function(t){c.a.get("".concat(t.rootState.api_url,"tank/get-owner-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SET_TANK_OWNER_LIST",e.data)})).catch((function(){}))},Ce=function(t){c.a.get("".concat(t.rootState.api_url,"tank/get-valve-list"),{headers:{Authorization:t.rootState.authentication.token}}).then((function(e){t.commit("SET_TANK_VALVE_LIST",e.data)})).catch((function(){}))},De={loadTankData:Te,getManufacturerList:ye,getCapacityList:xe,getOwnerList:we,getValveList:Ce},Ie=function(t){return t.activeTank},Oe={getActiveTank:Ie},Ee=function(t,e){t.tankManufacturerList=e},je=function(t,e){t.tankCapacityList=e},Ae=function(t,e){t.tankOwnerList=e},Ve=function(t,e){t.tankValveList=e},Le=function(t,e){o["a"].set(t,"activeTank",e)},Pe={SET_TANK_MANUFACTURER_LIST:Ee,SET_TANK_CAPACITY_LIST:je,SET_TANK_OWNER_LIST:Ae,SET_TANK_VALVE_LIST:Ve,SET_ACTIVE_TANK:Le};o["a"].use(i["a"]),o["a"].use(Dt.a,c.a);var Re=function(){return{tankManufacturerList:"",tankCapacityList:"",tankOwnerList:"",tankValveList:"",activeTank:""}},Ne={namespaced:!0,state:Re,getters:Oe,actions:De,mutations:Pe},ze=a("0e44");o["a"].use(i["a"]),o["a"].use(Dt.a,c.a);var $e=new i["a"].Store({plugins:[Object(ze["a"])({paths:["authentication","tank"]})],strict:"production",state:{apitoken:"",api_url:"api/"},actions:{setApiToken:function(t,e){var a=t.commit;a("SET_API_TOKEN",e)}},mutations:{SET_API_TOKEN:function(t,e){this.state.apitoken=e}},modules:{authentication:Se,common:Qt,tank:Ne}}),qe=a("9483");Object(qe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Ue=a("f309");o["a"].use(Ue["a"]);var Fe=new Ue["a"]({}),Ke=(a("4160"),a("4fad"),a("159b"),a("3835")),Me=a("d4ec"),Be=a("bee2"),Ze=function(){function t(e,a,o,r){Object(Me["a"])(this,t),this.items=e,this.filter=o,this.headers=r,this.filters=a,this.filterCallbacks={}}return Object(Be["a"])(t,[{key:"registerFilter",value:function(t,e){this.filterCallbacks[t]=e}},{key:"runFilters",value:function(){var t=this,e=t.items;return Object.entries(this.filterCallbacks).forEach((function(a){var o=Object(Ke["a"])(a,2),r=o[0],n=o[1];e=n.call(t,t.filters[r],e)})),e}}],[{key:"updateFilters",value:function(t,e){return Object.assign({},t,e)}}]),t}(),He={install:function(t,e){console.log(e),t.prototype.$MultiFilters=Ze}},Ye=He,Ge=(a("5363"),a("66d6")),We=a.n(Ge),Je=a("1157"),Xe=a.n(Je);window.$=Xe.a,o["a"].use(We.a),o["a"].use(Ye),o["a"].config.productionTip=!1,c.a.defaults.headers.common["Authorization"]="Bearer ".concat($e.state.token),new o["a"]({router:wt,store:$e,vuetify:Fe,render:function(t){return t(L)}}).$mount("#app")},"77b9":function(t,e,a){"use strict";a("fe58")},"85ec":function(t,e,a){},"8ba8":function(t,e,a){"use strict";a("4267")},b4cc:function(t,e,a){"use strict";a("20f69")},fe58:function(t,e,a){}});
//# sourceMappingURL=app.a8b08129.js.map